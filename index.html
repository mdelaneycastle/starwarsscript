<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Flipbook Demo</title>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://rkei0.csb.app/turn.min.js"></script>
  <style>
    html,
    body {
      background-color: #efefef;
      height: 100%;
      margin: 0;
      overflow: hidden;
    }

    .wrapper {
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100%;
      margin: auto;
    }

    .flipbook {
      width: 100%;
      max-width: 800px; /* Ensure max width */
      aspect-ratio: 4 / 3; /* Use aspect-ratio to lock the proportion */
      overflow: hidden;
      -webkit-touch-callout: none;
      -webkit-user-select: none;
      user-select: none;
    }

    .flipbook .page {
      width: 100%;
      height: 100%;
    }

    .flipbook .page img {
      width: 100%;
      height: 100%;
      object-fit: cover; /* Ensure images scale appropriately */
    }
  </style>
</head>
<body>
  <div class="wrapper">
    <div class="flipbook" id="flipbook">
      <div class="page"><img src="1.jpg" draggable="false" alt="Page 1" /></div>
      <div class="page"><img src="2.jpg" draggable="false" alt="Page 2" /></div>
      <div class="page"><img src="3.jpg" draggable="false" alt="Page 3" /></div>
      <div class="page"><img src="4.jpg" draggable="false" alt="Page 4" /></div>
    </div>
  </div>

  <script>
    $(document).ready(function () {
      var flipbookEL = $('#flipbook');

      // Initialize Turn.js with autoCenter enabled
      flipbookEL.turn({
        width: 800, // Adjust to match aspect ratio
        height: 600, // Maintain a 4:3 aspect ratio
        autoCenter: true
      });

      // Resize event listener to adjust size while maintaining aspect ratio
      function updateFlipbookSize() {
        const wrapperWidth = $(".wrapper").width();
        const wrapperHeight = $(".wrapper").height();
        const ratio = 4 / 3; // Set your desired aspect ratio

        let flipbookWidth = wrapperWidth;
        let flipbookHeight = flipbookWidth / ratio;

        if (flipbookHeight > wrapperHeight) {
          flipbookHeight = wrapperHeight;
          flipbookWidth = flipbookHeight * ratio;
        }

        flipbookEL.turn('size', flipbookWidth, flipbookHeight);
      }

      updateFlipbookSize(); // Initial size update
      window.addEventListener('resize', updateFlipbookSize); // Adjust on window resize
    });
  </script>
</body>
</html>
